---
title: |
    프록시 패턴과 데코레이터 패턴
date: 2023-09-30T07:29:00.000Z
categories: [Design pattern]
tags: []
---


이번 글에서는 프록시 패턴과 데코레이터 패턴에 대해 알아보도록 하겠습니다. 


이 글은 Java 17을 기준으로 작성되었으며 참고 자료는 다음과 같습니다.

- [스프링 입문을 위한 자바 객체 지향의 원리와 이해](https://product.kyobobook.co.kr/detail/S000001628116) 6장
- [프록시 패턴](https://refactoring.guru/ko/design-patterns/proxy)

## 프록시 패턴


프록시(proxy)는 대리인을 뜻합니다. 프록시 패턴은 직접 호출 하는 것이 아닌 대리인을 통해 호출하는 구조를 말합니다. 이를 예시 코드와 함께 알아보겠습니다.


```java
public class Greeting {

    public String getGreeting() {
        System.out.println("[Greeting] 로직 수행");

        return "Hello, World!";
    }
}
```


위와 같이 인사말을 반환하는 역할을 가진 클래스가 있을 때 직접 호출하는 코드는 다음과 같습니다.


```java
@Test
@DisplayName("프록시를 사용하지 않고 객체를 바로 호출한다.")
void invokeDirectly() {
    /* given */
    final Greeting greeting = new Greeting();

    /* when & then */
    assertThat(greeting.getGreeting()).isEqualTo("Hello, World!");
}
```


### 프록시 패턴을 사용하는 이유


기본적으로 프록시 패턴은 기존 클래스를 감싸고 싶을 때 사용합니다. 이때 감싸는 이유는 여러가지가 있는데요. 공통적으로 기존 로직 앞뒤에 무언가를 추가하고 싶은데 수정이 불가능하거나 기존 클래스를 수정하지 않고 싶을 때 사용합니다.


### 기본적인 프록시 패턴


프록시 패턴으로 변경하기 위해선 기존 클래스와 동일한 메서드를 갖는 인터페이스를 선언해야합니다.


> 물론 인터페이스 없이 구현할 수도 있지만 매우 강한 결합이 생기는 단점이 있습니다.


```java
public interface GreetingService {

    String getGreeting();
}
```


이후 기존 클래스가 인터페이스를 구현하도록 변경합니다.


```java
public class Greeting implements GreetingService {

    public String getGreeting() {
        System.out.println("[Greeting] 로직 수행");

        return "Hello, World!";
    }
}
```


이제 기존 클래스를 필드로 갖는 프록시 클래스를 정의합니다.


```java
@RequiredArgsConstructor
public class GreetingProxy implements GreetingService {

    private final GreetingService greetingService;

    @Override
    public String getGreeting() {
        System.out.println("-----Proxy start-----");
        final String greeting = greetingService.getGreeting();
        System.out.println("-----Proxy end-----");

        return greeting;
    }
}
```


마지막으로 클라이언트가 인터페이스에 의존하도록 코드를 변경합니다.


```java
@Test
@DisplayName("프록시를 사용하여 객체를 감싼다.")
void invokeProxy() {
    /* given */
    final GreetingService proxyService = new GreetingProxy(new Greeting());

    /* when & then */
    assertThat(proxyService.getGreeting()).isEqualTo("Hello, World!");
}
```


이로써 클라이언트가 실행하는 대상은 `GreetingService`로 해당 인터페이스의 구현체가 프록시 객체인지, 실제 객체인지 알 수 없습니다.


이를 클래스 다이어그램으로 표현하면 다음과 같습니다.


![Untitled.png](data:image/png;base64,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)


## 프록시 패턴 응용


기존 클래스를 감싼다는 아이디어를 이용하여 여러 기능을 프록시 패턴으로 구현할 수 있습니다. 여기서는 간단하게 캐싱과 지연 초기화에 대해 다뤄보겠습니다.


### 캐싱


프록시 패턴을 이용하면 반환 값을 캐싱할 수 있습니다. 따라서 요청이 반복될 때마다 실제 객체를 호출하는 것이 아닌 준비한 값을 반환하여 계산 비용을 아낄 수 있습니다.


```java
@RequiredArgsConstructor
public class GreetingCacheProxy implements GreetingService {

    private final GreetingService greetingService;
    private String cachedGreeting;

    @Override
    public String getGreeting() {
        if (Objects.isNull(cachedGreeting)) {
            System.out.println("Cache miss!");

            cachedGreeting = greetingService.getGreeting();
        }

        return cachedGreeting;
    }
}
```


위와 같이 캐시 구조를 프록시 패턴으로 구현하고 테스트 코드를 다음과 같이 작성하였습니다.


```java
@Test
@DisplayName("프록시를 사용하여 캐싱할 수 있다.")
void cacheProxy() {
    /* given */
    final GreetingService cacheService = new GreetingCacheProxy(new Greeting());

    /* when & then */
    assertAll(
        () -> assertThat(cacheService.getGreeting()).isEqualTo("Hello, World!"), // miss
        () -> assertThat(cacheService.getGreeting()).isEqualTo("Hello, World!"), // hit
        () -> assertThat(cacheService.getGreeting()).isEqualTo("Hello, World!") // hit
    );
}
```


![Untitled.png](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJEAAAAwCAYAAAARmJhoAAAACXBIWXMAAAsTAAALEwEAmpwYAAANnUlEQVR4nO2ceVhUZd/HPzA4MAMo5AY4JspiarEqCLKIKfqooGyiadaTmks9b2pXPY97bk+pgF25L9mb5QIuKLKIqWwuaOZCVxjI5hLgqzKsgsDA+wcySSAzOqhl5/MX5/zu5Xfu63vu+5wz9xctyz5v1CMgoAHaLzoBgb8+gogENEYQkYDGCCIS0BhBRAIao7aILC2tnmUezwWJRMr8efMI8Pd/0am8VKgU0Yjhw9mxfTubN27gwL59zPlodpt0HB8Xx/jg8W3Slrr07NmTwZ6euLm5tWm7jo6OnPjhB96ZPLlN2/2roKOqgK+PDwqFgsVLPsPZyYkRw705EhNDVtY1jTrW0tLSqP7TkJ7+C9NnzqKwsLBN261+UA2AQlHXpu3+VVApol69ehEeEcGZs2e4dPky+gb6mJqYkJV1DV8fH8b4+iLr1o3/u3OHhMQkdnyzAwBPD0/8/f2wsrKk6F4Rp06fZvOWLU3adnZ2YuJbE6isrOJkwkll3GuwF35+Y7G2sqK0tIyoI1F8v2tXq3lOfW8Kw4YNxcDAgPz8fPT1DRDrilm/fgOJSYns2L6dzp07A5Caeo6Vn/+3Sf1JEycy3NsbExMT5HI5yckprN+4QWUMoLKqCoDa2lpVw/lSonI509bWprKyYZAqK++zYuVKUk6lADBh/HjKysoJXfslN2/exNdnNIaG7QEICgzA2MiIb775lszMa4zx9cXCwqJJ2506dmTL1m3kXc9j1MiRyroBAf6002lHSGgYGZkZvD1pEjKZrNU8xWIxUqmUL1atxryHObFxcZSVleH+cOk6FBXFrt17KC0tQ1dPt1l9fz8/Cgtvs2jxEs6dP4+Xlxevdn9VZQygoqICgJqaGlXD+VKi0dvZhIkTCY+IQCqVkpGZiaGhIc5OThgatsfa2pqTCYns27+PNaGhJCenYGZi2qT+qdOniY6JVrYxyNUFU1MzrCwtOXf+PPfuFXHs2A9oa2vj7OSkMp/y8nJSTqXwoPoB2dnZyOVy9PWlAERFRbE3fC+VVZUt1lUoFBgbG9GpUycORh4iICiQGzdvqIwBFBcXA1BT+/cUkcrlrDU2bdiApYUl94ruKc9pa2ujLRIhEokokhcBDTPY56u+aFa/pKQUgPz8AgBEIh0M27dHR0eHcUGBBAUGAFBdXY1IJNIkVZVEx8TgM3o0c2Z/hEKh4MJPPzF/wQKVscbrq6ur+9vORCpFVFtbq7ybDQ3bs3DBfOLjj6Gjo4O1tTWhYWuJjYvF3s6BkDWrAKhTKFAoFBgaGCrbmfreFK78/DM//ni+1f7uV5SjUCjYuGkz0THRmlzbE/Htzp18u3MnMpmMf77zLoMHe+Ls5My58+dajTVyOOoIebl5zy3fPxMql7NrWVm4urjg5jqI96dNxdbGhuycHIrkRdTV1SGTdcPS0orgcYHKOmVlpWRlZeHh4Y6zkzMfzvqA4OBxiLRVr563bt0iNzcX72FD6du3H1OnTCVibzj9+/d/6ouUSKS4uQ7CzXUQ7XR0kOhJcHMdhI2NLdBwc0QeOMC8//yHyqoqsnOyH543bDXWiI2NLZ07d6JHj1ebd/43QOVMFBsbR/C4ID77bAklJaXExx/j+vU8rl/P4+zZVMaOHUNgQACZmZkA1Nc37CyJjoklMDCAlSuWU15ezvHjJ0g9l9qk7cayfyQmNhZ/Pz+++nItFRUVnD5zhgsXLrSaZ71WPY82V1dXB/X11ANmZqYsXfqZMiaTyXBwsOfGjRv8c8oUyspKOZmQwJtDhvDmkCFUVVVxNjWV4yeOA7QaA3i9Xz8GubryoOoBR+PjVQ3pS4eWuvuJLC2tWvw2ZNLVBLFY3ORBU5166mBtbUVmpmbfo54UO1s7snNyKCsrfaJYjx7mXL+e9xwy/POhtogEBB6H8AOsgMYIIhLQGEFEAhojiEhAYwQRCWiMICIBjRFEJKAxgogENEYQkYDGCCIS0BhBRAIao9amNGcnZ4yNjQDILygkLe3KM03qz4aFhQVWlpYAVFTcV24PFmhALRFNGD+ePn1eo7q6muSUlGYi0uSX+rZGIpEyZ/ZHZGRkcODgwTZps7+jI5MmTqRdu3YUl5SoLSJ7Owe6dTNrMVZVVaXcTmJtbYWz08BmZYqLizkSfYS4mBgWLFzExUsX1c45KDCI1/v1ZcnSpS3GfX19GezpCUD6L+ls3/E1WzdvITwigqDAAH5JT2fd+vVq9aX29tirV39l9tw5TRPx8cHfzw+ZTIZcLicpKbmJC+JZ8eknn1BXV0dIaGizWKO3rHPnzm0movCICMIjIvh47lwGDBigdj0HBzucnZybnZdI9BCLdZUi6tKpC/b2dgD07t2bgoICSktLyc/P50h0w5bjJ8XW1gZbGxsMDds327pib+eAtpY2N2/eAuB+5X0cHR155RVjdHV1n9jOpdEea18fH+5XVrJw0WI8PTz4x8h/cCAykoKCfE2aVYmZact3Nzw7b9nT8PWOHXy9Y0ez84EBgQQF/r4T9NSZ05w6c5oORsbs3fU9mZmZrF6z5qn79fX1xd7Ojnv37rF40UJWr1nDnTt3lPGgoAC6/8E907hzVF9fH+0n3M/+1CIyNGyPubk527Z/Teq5VK5lZ6Grp8ur3btTUJDPhnXrqKmpwczMDIlUyuVLl1m0ZLGyfmvessfF5s+bh8vAgYjFYgCOHD4MQMS+/Xz3/XetessO7t9PTk4uvXtbN/O5QcPA+40di0nXrlxJS6Nf376EhIaRlJz0tEPEjOnTcXVxaXZeV1evxfLvTn6b6upqnAYMwLr3a2Rm/PpE/Y0YMQIPd3fs7eyIij7CoUNRrFy+jG1btpCQmMShw4e5fj2P+QsW8P6093F1cUEqlZCTk8P6jRv5MiyMyZPfRtyuHWlpaWr3+9Qi0haJ0NLSUlpw7t29y7Lly5VxiVRK944d2RsejpGRMQH+fngN9iIhMQFo8JaJtEWEhIbh6enB25MmkZiUxK1btx4bS0lOIScnl6FD3wTg+PETAKRfvQo0eMukEik+o0c385YZGBjQtWsXtmzdhoeHO6NGjmTX7j3Kqd5n1CgUCgWbt2xl6JtDkEql6OhoNFHzivErVFZWEnWkueGg6qHhsZE5s+fgPWwooWFr8R42jCULF7Lzu++IP6bedlsbG1umTZlKeno6S5ctV25F/mjOXIICA3F3d0NHR0RoWBh9XuvD2DG+fL9rF7du/caHH3zAuKAgADZt2swYX58nuk7NRukhoSEhvNq9O9AwK+zbvw+AjIxMdu/ZA8AQr8E42NuTkJig9Jbt2Ruu9JYNdHbG2ckJhaLusbHGZ5yBzg3PGXvD9zbJIyoqCkApsj/S6HMrvF3Iqs8/Z5CrC0fj4zE0bE+PHj343293cjjqMHK5nCWL+7bF0FBbW0tRUVGLsQ5GxpQUy5k1cxZDhnixa/cejp84zqUrl5n9r//B08NdbRHl5uby3rRpTdpu5EBkJAciI6lTKABQ1NcjEomwsLDAqIMRenq65OXltThrqkObiOjs2VQyMjIIDAhAKpUoz1fcr1D+vWpNCCWlDXd9a96yZ+k7a/S5/fZbwzObSNRw+Y0+ufKKcgAKbxdo3BdAeUU5Xbt25eO5cxCLxYjFYsrLy5Xxlf/9gkuX5Rw8eJCzZ1ORSPRwdXEFIO7oUQBcXVy5ePEiJaUlrfa1aOEC3nj9deWx6OFK8ai1u66+nlGjR5OZ8Svr1m9g4EBnLC0tOHQ4ioORkbi5uTXJT12eWkSN3jIDfQN279mNSVcTAgMCHmvge9Rv1pq3TCaTPXffWUmxnLKyMnqamwPQ3/Hp7UmP8tW6dXy1bh0As2bOwt7OlmnTpzcrV3i7ELFYzJrVq2npxahjx47s23+g1b4+/fe/mxy31h+gnJEnT5qEr68P44PHUVNTw/T3p5H2889Ex8SqeZUaiKisrJTs7Bw83N3Jzs5miJcXNTU1nDyZoLLuo96ynNxcXF1c8B42jNUha7hw4UKrMYCSkmKsrKzxGuxFTXU1GdcyKS+vwNHeHqCJt6y0vFytj6NXr15luLc3VlZWmJmaqiyvircmvIVM1k153F0mo0MHIz795JPfC9XD6pCGt7AbN28QPKHlf7UTHxencT4tMXPGDOoUCjZu3ERaWhqmpmYMGOBIgJ8f58//SG5ujlrtaLScxcbFEeDvx8oVyykuLiYu7iiFt39/tX6crwxa95ap8p3FH/sBc3NzFi6YD8DWbdu58NOFVr1lqvJZtmIl/n5+9OrVk8TEJGbOaPkOVhc9PT0MDAyUx/LiYuTFxU3O8YJ9Nnfv3sXM1JQuXTpjbW1Nhw4dMOpghJa2NnqSlt8gW0Ity9CXYWuxtLSgpKSEs6nnWL+h6ZfMZ+UtexG+M4lEyozp0/EeNpRZH/6L3NwcfH18CB43DqlUyoPqasZPmPBcc9q7ezfLVqwkPf0Xteu8+8672Ni8wdyPP35sGQsLC8YHB9OrZ0/09fWpra1FLpdz6vRpwiMi1O5LLRGNGjkK04dTfHZ2tvI1/WXCw92DBfPnoaWlRU1NDUnJycoPfvZ2Djg6OgBw/36F8o1ToAHBvPiQjp06YW9rR319PZfTrnDv7t0XndJfBkFEAhoj7CcS0BhBRAIaI4hIQGMEEQlozP8Dk+nEjiYvE+wAAAAASUVORK5CYII=)


클라이언트가 인터페이스에 3번의 요청을 보냈으나 프록시 패턴으로 캐싱하였기 때문에 실제 로직은 1번만 수행됩니다.


### 지연 초기화


또 프록시 패턴을 이용하면 객체가 필요할 때 초기화하는 지연 초기화를 구현할 수 있습니다. 객체 생성에 많은 자원이 필요하지만 바로 사용하지 않는 경우 지연 초기화를 이용하여 객체가 필요한 시점에 생성하도록 할 수 있습니다.


```java
public class GreetingLazyInitProxy implements GreetingService {

    private GreetingService greetingService;

    @Override
    public String getGreeting() {
        if (greetingService == null) {
            System.out.println("Lazy initialization!");
            
            greetingService = new Greeting();
        }

        return greetingService.getGreeting();
    }
}
```


위와 같이 지연 초기화를 프록시 패턴으로 구현하고 테스트 코드를 다음과 같이 작성하였습니다.


```java
@Test
@DisplayName("프록시를 사용하여 지연 초기화할 수 있다.")
void lazyInitializeProxy() {
    /* given */
    final GreetingService lazyService = new GreetingLazyInitProxy();

    /* when & then */
    assertThat(lazyService.getGreeting()).isEqualTo("Hello, World!");
}
```


Greeting 인스턴스는 GreetingService의 구현체가 생성될 때 생성되는 것이 아니라 클라이언트가 GreetingService에 요청을 할 때 생성됩니다. 이러한 지연 초기화 방식은 JPA Hibernate에서도 사용됩니다.


## 데코레이터 패턴


프록시 패턴과 유사하게 데코레이터 패턴도 기존 로직을 감쌀 때 사용합니다. 대신 반환 값을 그대로 전달하는 프록시 패턴과 달리 데코레이터 패턴은 반환 값을 수정하여 전달합니다. 이러한 모습이 반환 값에 장식을 붙인다고 하여 데코레이터 패턴이라고 부릅니다.


### 언제 사용할까?


실행되는 로직은 같으나 반환 값이 사용되는 곳에 따라 모습이 바뀌어야하는 경우를 가정해봅시다. 

- A 서비스: 인사말은 모두 대문자여야해
- B 서비스: 인사말은 모두 소문자여야해
- C 서비스: 인사말 앞에 현재 시간을 붙여줘야해

세 서비스 모두 인사말이 필요하지만 반환 값을 서로 다르게 해줘야합니다. 이러한 요구사항을 데코레이터 패턴으로 해결할 수 있습니다.


```java
@RequiredArgsConstructor
public class GreetingDecorator implements GreetingService {

    private final GreetingService greetingService;

    /**
     * 인사말을 대문자로 장식하여(decorate) 반환한다.
     */
    @Override
    public String getGreeting() {
        return greetingService.getGreeting().toUpperCase();
    }
}
```


위 코드는 Greeting 객체를 감싸 반환 값을 대문자로 바꾸는 데코레이터입니다.


## 프록시 패턴과 데코레이터 패턴


프록시 패턴과 데코레이터 패턴은 모두 동일한 구조를 갖습니다. 그러나 반환 값을 처리하는 방법이 다릅니다.

- 프록시 패턴: 반환 값을 그대로 전달
- 데코레이터 패턴: 반환 값을 장식

두 패턴 모두 클라이언트가 인터페이스에 의존을 하기 때문에 OCP(open closed principle)과 DIP(dependency inversion principle)을 만족합니다. 


그러나 패턴을 구현하기 위해 새로운 클래스가 추가되어야하기 때문에 구조가 복잡해질 수 있습니다. 또, 서비스 객체를 한 번 감싸기 때문에 응답 속도가 늦어질 수 있습니다.


## 마무리하며


이번 글에서는 프록시 패턴과 데코레이터 패턴이 무엇인지, 언제 사용하는지에 대해 알아보았습니다. 동일한 패턴의 구조를 갖는 두 패턴이 헷갈릴 수도 있지만 반환 값을 어떻게 처리하는 지에 집중한다면 쉽게 구분할 수 있을 것입니다.


디자인 패턴에 집중하다보면 디자인 패턴에 코드를 우겨넣는 상황이 발생할 수 있습니다. 이를 방지하기 위해선 문제 상황을 정확히 이해하고 디자인 패턴을 적절하게 사용하고 있는지 의문을 갖는 습관이 필요하다고 생각합니다. 


이 글에서 사용한 코드는 아래에서 확인할 수 있습니다.

- [test: 프록시 패턴 학습 테스트](https://github.com/whatasame/TIL/commit/d0af5eb1a0cb3f5f70d80b9fe530f9a30e9e9a23)
- [test: 데코레이터 패턴 학습 테스트](https://github.com/whatasame/TIL/commit/b3ec74c1b5c655e3d60037e8227f29d38dd406a3)
