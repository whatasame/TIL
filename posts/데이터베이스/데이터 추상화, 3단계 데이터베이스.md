# 데이터 추상화, 3단계 데이터베이스

## DBMS의 목적

DBMS의 목적은 두 가지입니다.

1. 데이터가 저장·처리되는 세부 방식 은폐
2. 데이터의 효율적인 관리 및 처리

이 중 첫 번째 목적을 달성하기 위해 필요한 데이터 추상화에 대해 알아보겠습니다. DBMS에서는 데이터 추상화를 위해 3단계 데이터베이스 구조를 사용합니다.

## 3단계 데이터베이스

<p align="center"><img src="../../images/데이터베이스/데이터 추상화, 3단계 데이터베이스-Untitled.png"></p>

3단계 데이터베이스

- 뷰 단계 : 전체 데이터베이스의 일부분으로서 DBMS 이용자의 관점
- 논리적 단계 : 저장된 데이터의 **내용**과 데이터들의 **관계**
- 물리적 단계 : 데이터가 실제로 **저장되는 방법**

뷰 단계에선 논리적 단계와 물리적 단계의 정보를 알 수 없습니다(Black Box).

## 스키마와 인스턴스

<p align="center"><img src="../../images/데이터베이스/데이터 추상화, 3단계 데이터베이스-Untitled 1.png"></p>

스키마와 인스턴스

- 스키마(Schema) : DB의 구조학생 DB는 이름, 나이, 학점으로 구성되어있다.
- 인스턴스(Instance) : DB의 상태, Data 값들의 상태, DB state

앞서 말한 3단계 데이터 베이스를 3단계 스키마로 표현할 수 있습니다.

<p align="center"><img src="../../images/데이터베이스/데이터 추상화, 3단계 데이터베이스-Untitled 2.png"></p>

3단계 스키마

<p align="center"><img src="../../images/데이터베이스/데이터 추상화, 3단계 데이터베이스-Untitled 3.png"></p>

3단계 스키마의 예

- 외부 스키마 : 데이터베이스를 사용하는 사용자
- 논리적 스키마 : 데이터베이스의 내용과 데이터베이스 간의 관계
- 물리적 스키마 : 데이터베이스가 저장되어있는 방식

### 스키마를 쓰는 이유

스키마(데이터의 구조)를 쓰는 이유는 **데이터 독립성** 때문입니다.

**데이터 독립성**이란 어플리케이션은 데이터가 어떻게 저장되는지 신경쓰지 않아도 된다는 성질입니다. 따라서 데이터의 구조가 변경되더라도 응용 프로그램이 이에 영향을 받지 않아야합니다.

### 물리적 데이터 독립성

- 물리적 스키마 변경과 관련된 성질
- e.g. 데이터 파일의 이름, 위치, 색인, 정렬 여부, 저장 방식의 변화→ DBMS에서 매핑을 다시 하면 됨 (easy)

### 논리적 데이터 독립성

- 논리적 스키마 변경과 관련된 성질
- e.g. Student Table을 인문계, 이공계, 예체능계로 나누는 경우→ 기존에 Student Table을 참조하는 애플리케이션이 정상 작동하도록 해야 함 (hard)

즉, DBMS는 어떠한 변경 사항이 발생하더라도 응용 프로그램이 수정 없이 정상 작동하도록 해야 하는 의무가 있습니다.