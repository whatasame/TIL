# 6) 쉘

## 쉘

쉘은 사용자와 운영체제(커널) 사이의 중간 다리로서 사용자로부터 명령어를 입력받고 명령어를 해석하여 명령어를 처리하는 인터페이스입니다.

### 쉘의 종류

- Bourne shell : 가장 먼저 만들어진 쉘. /bin/sh
- Korn shell : Bourne shell을 확장해서 만든 쉘 /bin/ksh
- C shell : Shell의 핵심 기능에 C언어 특징을 포함한 쉘 /bin/csh
- Bash(Bourne Again SHell) : 돌고돌아 순정. /bin/bash
    
    Bourne Shell을 확장한 쉘 → Bourne Shell은 Bash에서 호환
    

이외에도 많은 쉘이 있습니다.

<aside>
💡 쉘마다 일반 유저 권한을 표시하는 기호가 다릅니다. bash → $, csh → % 등

</aside>

### 로그인 쉘

Linux에 로그인하면 자동으로 실행되는 쉘로서 시스템 관리자가 계정을 만들 때 로그인 쉘을 지정할 수 있습니다. 또, chsh 명령어를 통해 로그인 쉘을 변경할 수도 있습니다.

- 로그인 쉘 : 사용자가 로그인하면 자동으로 생성되는 쉘
- 서브 쉘 : 사용자가 직접 실행한 쉘로서 로그인 쉘 위에 서브 쉘이 실행되는 형태를 띰

### 쉘의 기능

- 명령어 처리 : 사용자가 입력한 명령을 해석하고 이에 맞는 프로그램을 실행
- 시작 파일 역할 : main 함수와 같이 로그인할 때 사용자 환경에 맞게 실행
- 스크립트 : 쉘 자체에서 쉘 스크립트 프로그래밍 기능을 가지고 있음
- 내장 명령어 : Linux 기본 명령어인 /bin에 없는 명령어도 쉘 자체적으로 가지고 있음
    - 내장 명령어의 예 : echo, cd

### 쉘 명령어 처리 순서도

<p align="center"><img src="../../images/시스템프로그래밍및보안/6) 쉘-Untitled.png"></p>

쉘 내장 명령어를 실행하는 경우 현재 실행중인 프로세스(쉘)에서 처리하는 것이므로 자식 프로세스를 생성할 필요가 없습니다.

### 시작 파일

시작파일이란 쉘이 시작할 때 자동으로 시작하는 파일입니다. 시작 파일은 주로 사용자 환경을 설정하는 역할을 합니다. 주로 파일 명이 rc로 끝납니다.

<p align="center"><img src="../../images/시스템프로그래밍및보안/6) 쉘-Untitled 1.png"></p>

- 시스템 시작 파일
    - 시스템의 모든 사용자에게 적용되는 설정
    - /etc 디렉토리에 있다.
- 사용자 시작 파일
    - 각 사용자에게 적용되는 설정
    - ~/ (각 사용자의 홈 디렉토리)에 있다.

<aside>
💡 .vimrc는 vim을 켤 때 vim 문서 편집기에 대한 환경 변수를 자동으로 지정해주는 파일입니다.

</aside>

시스템 시작 파일을 활용하여 접속하는 모든 유저에게 공지 사항 보내기, 생성 파일 기본 권한 지정 등의 작업을 수행할 수 있습니다.

### Shell Escpae

- `
    
    Back quote : 명령어 안에 다른 명령어를 실행할 때 사용
    
    <p align="center"><img src="../../images/시스템프로그래밍및보안/6) 쉘-Untitled 2.png"></p>
    
- ‘
    
    Single quote : 문자열 그대로 사용할 때 사용 
    
    <p align="center"><img src="../../images/시스템프로그래밍및보안/6) 쉘-Untitled 3.png"></p>
    
- "
    
    Double quote : 문자열 안에 다른 명령어를 실행할 때 사용
    
    <p align="center"><img src="../../images/시스템프로그래밍및보안/6) 쉘-Untitled 4.png"></p>
    
- \
    
    특수 문자를 문자열로 취급하고 싶을 때 사용
    
    <p align="center"><img src="../../images/시스템프로그래밍및보안/6) 쉘-Untitled 5.png"></p>
    
- $variable
    
    변수를 참조할 때 사용. 괄호를 쓰지 않아도 되지만 보통 중괄호와 같이 쓴다.
    
    <p align="center"><img src="../../images/시스템프로그래밍및보안/6) 쉘-Untitled 6.png"></p>
    

### 쉘 스크립트

여러가지 명령어 조합을 작성하여 저장한 후 실행하면 해당 명령어들을 실행해주는 프로그램이다.

쉘 스크립트 **첫 줄에는 사용하는 쉘을 명시**해야한다.

쉘 스크립트 파일을 생성하면 기본적으로 **실행 권한이 없기 때문에 chmod를 통해 실행 권한을 추가하거나 해당 쉘로 실행**해야한다.

**예시**

```bash
#!/bin/bash
echo "현재 날짜는 `date`입니다."
echo "반갑습니다."
```

**실행 결과**

<p align="center"><img src="../../images/시스템프로그래밍및보안/6) 쉘-Untitled 7.png"></p>
