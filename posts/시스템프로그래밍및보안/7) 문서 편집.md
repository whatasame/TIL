# 7) 문서 편집

## UNIX 문서 편집기 종류

- 행 단위 편집기 : 한 줄씩 처리할 수 있는 매우 간단한 편집기
    
    기본 명령어로 구현되어있음
    
    대표적인 행 단위 편집기 - ed, ex, cat
    
- 화면 편집기 : 화면에 여러 줄을 띄워 편집할 수 있음
    
    대표적인 화면 편집기 - vi
    

## vi

vi는 Visual editor의 약자로서 대표적인 UNIX 화면 문서 편집기입니다.

참고로, vi을 개선한 버전인 vim(vi improved)도 있습니다.

### vi 동작 과정

vi로 문서를 편집하는 과정은 아래 그림과 같습니다.

<p align="center"><img src="../../images/시스템프로그래밍및보안/7) 문서 편집-Untitled.png"></p>

1. 디스크에 저장된 텍스트파일을 호출하여 사용자의 화면에 띄웁니다.
2. 편집기에서 수정된 내역은 버퍼에 보관 임시 보관됩니다.
3. 사용자가 저장 하면 버퍼의 내용이 텍스트 파일에 저장됩니다.

사용자가 편집기에서 수정된 내역은 임시 저장 장소인 버퍼에 저장되므로 파일을 저장하지 않으면 디스크에 있는 원본 텍스트 파일은 변화가 없습니다.

버퍼를 사용함으로써 파일 내용을 잘못 수정해도 **원본 파일을 그대로 유지**할 수 있으며 **작업 취소** 기능도 사용할 수 있습니다.

### vi 모드

우리가 평소에 사용하는 메모장과 같은 편집기와 vi의 작동 방법은 꽤 달라 어려움을 겪습니다.

UNIX 환경에서 사용하는 키보드가 우리가 생각하는 키보드에 있는 버튼이 없는 경우도 있기 때문에 이로 인한 불상사를 막기 위해 3개의 모드가 있습니다.

<p align="center"><img src="../../images/시스템프로그래밍및보안/7) 문서 편집-Untitled 1.png"></p>

- 입력모드 : 텍스트를 입력하는 모드
- 명령모드 : 커서 이동, 페이지 이동, 텍스트 삭제 등 명령어를 입력하는 모드
- 마지막 행 모드 : 명령 모드에서 사용하기 불편한 긴 명령어를 입력하는 모드

vi에서는 대소문자를 구분합니다. i와 I, a와 A 등 대소문자가 다르면 서로 다른 기능을 수행합니다.

마지막 행 모드과 달리 명령 모드에서는 사용자가 입력하는 키가 표시되지 않습니다. 검색 기능과 같이 명령어가 길어지는 경우 명령어를 확인해야하므로 입력 내용이 보이는 마지막 행 모드가 필요합니다.